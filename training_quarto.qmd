---
title: "Formation R Quarto"
authors: "Mathieu Depetris, Clara Lerebourg, Julien Lebranchu"
format:
  revealjs: 
    slide-number: true
    chalkboard: 
      buttons: false
    preview-links: auto
    theme: template/theme_perso.scss
    logo: template/logo_marbec.png
    footer: <https://github.com/ClaraLerebourg/formation-quarto>
---

# Pré-requis

## Pré-requis

Avoir installé quarto : https://quarto.org/docs/get-started/



# Les bases

## Les bases

**Composition d'un script Quarto :**

-   IDE Studio

-   Entête YAML

-   Code chunks

-   Figures et tableaux

-   Texte

-   Rendu

## Les bases - IDE Studio

**1.  Créer un fichier quarto**

    1.  File > New File > Quarto document

    2.  Renseigner : Titre / Auteur / HTML

    3.  Create

## Les bases - IDE Studio

**1.  Créer un fichier quarto**

    1.  File > New File > Quarto document

    2.  Renseigner : Titre / Auteur / HTML

    3.  Create

**2.  IDE Studio**
![](images/quarto_computations_1.1.png)

## Les bases - IDE Studio

**1.  Créer un fichier quarto**

    1.  File > New File > Quarto document

    2.  Renseigner : Titre / Auteur / HTML

    3.  Create

**2.  IDE Studio** ![](images/quarto_computations_1.2.png)

## Les bases - IDE Studio

**1.  Créer un fichier quarto**

    1.  File > New File > Quarto document

    2.  Renseigner : Titre / Auteur / HTML

    3.  Create

**2.  IDE Studio** ![](images/quarto_computations_1.3.png)

## Les bases - IDE Studio

**1.  Créer un fichier quarto**

    1.  File > New File > Quarto document

    2.  Renseigner : Titre / Auteur / HTML

    3.  Create

**2.  IDE Studio** ![](images/quarto_computations_1.4.png)

## Les bases - IDE Studio

![](images/quarto_computations_1.5.png)

## Les bases - Entête YAML

```{r}

cat(" ---
title: \"Quarto-formation\"
authors: \"Mathieu Depetris, Clara Lerebourg, Julien Lebranchu\"
format: html 
prefer-html: true
editor: visual
---
")
```

Formats : html, pdf, docx

## Les bases - Codes chunks {auto-animate="true"}

``` r
#| label: load-packages

library(ggplot2)
library(dplyr)
library(kableExtra)
```

```{r echo = FALSE}
#| label: load-packages

library(ggplot2)
library(dplyr)
library(kableExtra)
library(tidyverse)
```

## Les bases - Codes chunks {auto-animate="true"}

``` r
#| label: scatterplot

ggplot(mpg, aes(x = hwy, y = cty, color = cyl)) +  
  geom_point(alpha = 0.5, size = 2) +  
  scale_color_viridis_c() +  
  theme_minimal()
```

## Les bases - Codes chunks {auto-animate="true"}

``` r
#| label: scatterplot
#| code-fold: true

ggplot(mpg, aes(x = hwy, y = cty, color = cyl)) +  
  geom_point(alpha = 0.5, size = 2) +  
  scale_color_viridis_c() +  
  theme_minimal()
```

![](images/quarto_computations_2.png)

## Les bases - Figures {auto-animate="true"}

``` r
#| label: fig-scatterplot
#| fig-cap: "City and highway mileage for 38 popular models of cars.“
#| fig-width: 6
#| fig-height: 3.5

ggplot(mpg, aes(x = hwy, y = cty, color = cyl)) +  
  geom_point(alpha = 0.5, size = 2) +  
  scale_color_viridis_c() +  
  theme_minimal()
```

![](images/quarto_computations_3.png){width="80%"}

## Les bases - Figures {.smaller auto-animate="true"}

``` r
#| label: fig-scatterplot
#| fig-cap: "City and highway mileage for 38 popular models of cars.“
#| fig-subcap:
#|   - "Color by number of cylinders“
#|   - "Color by engine displacement, in liters“
#| layout-ncol: 2
ggplot(mpg, aes(x = hwy, y = cty, color = cyl)) + geom_point(alpha = 0.5, size = 2) + scale_color_viridis_c() + theme_minimal()

ggplot(mpg, aes(x = hwy, y = cty, color = cyl)) + geom_point(alpha = 0.5, size = 2) + scale_color_viridis_c(option = ‘’E’’) + theme_minimal()
```

![](images/quarto_computations_4.png){width="80%"}

## Les bases - Tableaux {auto-animate="true"}

``` r
#| label: table-mpg

mpg
```

```{r}
#| label: table-mpg

mpg

```

## Les bases - Tableaux {auto-animate="true"}

``` r
#| label: table-mpg-1

kable(mpg) %>% 
 kable_classic(c("hover", 
                 "condensed"),
               font_size = 14)
```

```{r}
#| label: table-mpg-1

kable(mpg) %>% 
 kable_classic(c("hover", 
                 "condensed"),
               font_size = 14)

```

## Les bases - Corps de texte {auto-animate="true"}

``` r
The plots in @fig-mpg show the relationship between city and highway mileage for 38 popular
models of cars. In @fig-mpg-1 the points are colored by the number of cylinders while in 
@fig-mpg-2 the points are colored by engine displacement.
```

![](images/quarto_computations_5.png)

## Les bases - Corps de texte {auto-animate="true"}

``` r
mean_cty <- round(mean(mpg$cty), 2) 
mean_hwy <- round(mean(mpg$hwy), 2)
```

```{r echo = FALSE}
mean_cty <- round(mean(mpg$cty), 2) 
mean_hwy <- round(mean(mpg$hwy), 2)

```

```{r}
cat(" \n There are `r nrow(mpg)` observations in our data. The average city mileage of the cars in our data is `r mean_cty` and the average highway mileage is `r mean_hwy`.\n")
```

## Les bases - Corps de texte {auto-animate="true"}

``` r
mean_cty <- round(mean(mpg$cty), 2) 
mean_hwy <- round(mean(mpg$hwy), 2)
```

```{r echo = FALSE}
mean_cty <- round(mean(mpg$cty), 2) 
mean_hwy <- round(mean(mpg$hwy), 2)

```

```{r}
cat(" \n There are `r nrow(mpg)` observations in our data. The average city mileage of the cars in our data is `r mean_cty` and the average highway mileage is `r mean_hwy`.\n")
```

``` r
There are `r nrow(mpg)` observations in our data.
The average city mileage of the cars in our data is `r mean_cty` and the average highway mileage is `r mean_hwy`.  
```

# Rapport quarto
## Rapport quarto

**Nous allons voir :**

-   Les différents formats

-   Numéros de lignes

-   Numéros de sections

-   Références

## Rapport - Formats

```{r}

cat(" ---
title: \"Quarto-formation\"
authors: \"Mathieu Depetris, Clara Lerebourg, Julien Lebranchu\"
Output_format : c(\"pdf\", \"html\", \"docx\")
prefer-html: true
editor: visual
---
")
```

Formats : html, pdf, docx

-   Pour pdf (dans le terminal) : quarto install tinytex

## Rapport - Numéro de lignes

```{r}

cat(" ---
title: \"Quarto-formation\"
authors: \"Mathieu Depetris, Clara Lerebourg, Julien Lebranchu\"
format: 
   pdf :
      code-line-numbers : true
---
")
```

![](images/quarto_computations_6.png)

## Rapport - Numéro de sections

```{r}

cat(" ---
title: \"Quarto-formation\"
authors: \"Mathieu Depetris, Clara Lerebourg, Julien Lebranchu\"
toc: true
number-sections: true
format: 
   html :
      code-fold: true
---
")
```

![](images/quarto_computations_7.png)

## Rapport - Références

Ecrire /ci dans le document quarto et choisir "Citation... Reference to a source"

![](images/quarto_computations_8.png)

## Rapport - Références 

Ecrire /ci dans le document quarto et choisir "Citation... Reference to a source"

![](images/quarto_computations_9.png)

# Présentation quarto

## Créer un fichier

**1.  Créer un fichier quarto**

    1.  File > New File > Quarto document

    2.  Renseigner : Titre / Auteur / HTML

    3.  Create

## Créer un fichier

**2.  Créer des slides **

Les diapositives sont définies par des titres de niveau 1 (#) pour un titre sur une page, ou de niveau 2  (##) :

## Créer un fichier

**2.  Créer des slides **

Les diapositives sont définies par des titres de niveau 1 (#) pour un titre sur une page, ou de niveau 2  (##) :

```{r}

cat("---
title: \"Habits\"
author: \"John Doe\"
format: revealjs
---

# In the morning

## Getting up

- Turn off alarm
- Get out of bed

## Breakfast

- Eat eggs
- Drink coffee
")
```


## Modifier présentation

**Faire des listes - Incremental **

```{r}

cat("
::: {.incremental}

- Eat spaghetti
- Drink wine

:::
")
```

::: {.incremental}

- Eat spaghetti
- Drink wine

:::

## Modifier présentation

**Faire des listes - Non incremental **

```{r}

cat("
::: {.nonincremental}

- Eat spaghetti
- Drink wine

:::
")
```

::: {.nonincremental}

- Eat spaghetti
- Drink wine

:::

## Modifier présentation

**Plusieurs colonnes **

```{r}

cat("
:::: {.columns}

::: {.column width=\"40%\"}
contents...
:::

::: {.column width=\"60%\"}
contents...
:::

::::
")
```

:::: {.columns}

::: {.column width="40%"}
contents...
:::

::: {.column width="60%"}
contents...
:::

::::


## Modifier présentation

**Insérer une image **

```{r}

cat("
![](images/quarto_computations_1.5.png)
")
```

![](images/quarto_computations_1.5.png)

